<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creator page</title>
    <link rel="stylesheet" href="/stylesheets/live.css">
</head>
<body>
    <section>
        <h1>Stream Live</h1>
        <div class="form">
            <form action="/creator/stream/live" method="post" enctype="multipart/form-data" class="form-group">
                <h4 class="image-heading">Upload Thumbnail</h4>
                <input type="file" name="Thumbnail" class="image">
                <h2 class="time-heading">Streaming Time</h2>
                <input type="datetime-local" name="Time" class="time">
                <input type="text" name="title" id="title" placeholder="Give Title">
                <input type="text" name="description" id="description" placeholder="Give description">
                <div id="radio">
                    <% if (live.Rank < 2) { %>
                      <label for="trending-radio" class="radio-topic">Trending Topic</label>
                      <input type="radio" name="Type" id="trending-radio" value="trending" class="radio">
                    <% } %>
                  </div>                  
                <div class="opponent">
                    <p>Opponent Debater</p>
                    <input type="text" placeholder="username" id="username-input" name="opponent">
                </div>
                <input type="submit" value="Send Request" id="button">
            </form>
        </div>
    </section>
</body>
<script>
    document.addEventListener("DOMContentLoaded", () => {
    const radioButtons = document.querySelectorAll('input[type="radio"]');

    radioButtons.forEach(radio => {
        radio.addEventListener("click", function (event) {
            if (this.dataset.checked === "true") {
                this.checked = false; // Deselect the radio
                this.dataset.checked = "false"; // Update the toggle state
            } else {
                this.dataset.checked = "true"; // Mark as selected
            }

            // Ensure all other radios in the group are updated correctly
            radioButtons.forEach(otherRadio => {
                if (otherRadio !== this) {
                    otherRadio.dataset.checked = "false";
                }
            });
        });
    });
});
</script>
<script type="module" src="/firebase-notification.js"></script>
</html>
